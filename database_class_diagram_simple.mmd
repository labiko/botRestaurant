classDiagram
    %% ===================
    %% RESTAURANT CORE
    %% ===================
    class FranceRestaurants {
        +int id PK
        +string name
        +string slug
        +text address
        +string city
        +string phone
        +boolean is_active
        +string timezone
        +timestamp created_at
    }

    class FranceMenuCategories {
        +int id PK
        +int restaurant_id FK
        +string name
        +string slug
        +string icon
        +int display_order
        +boolean is_active
    }

    class FranceProducts {
        +int id PK
        +int restaurant_id FK
        +int category_id FK
        +string name
        +text description
        +text composition
        +numeric price_on_site_base
        +numeric price_delivery_base
        +string product_type
        +boolean is_active
        +int display_order
    }

    class FranceProductSizes {
        +int id PK
        +int product_id FK
        +string size_name
        +numeric price_on_site
        +numeric price_delivery
        +boolean includes_drink
        +int display_order
    }

    class FranceProductOptions {
        +int id PK
        +int product_id FK
        +string option_group
        +string option_name
        +numeric price_modifier
        +boolean is_required
        +int max_selections
        +int display_order
        +int group_order
        +boolean is_active
    }

    class FranceOrders {
        +int id PK
        +int restaurant_id FK
        +string phone_number
        +string customer_name
        +jsonb items
        +numeric total_amount
        +string order_status
        +string payment_mode
        +string service_mode
        +timestamp created_at
    }

    class FranceUserSessions {
        +int id PK
        +string phone_number
        +string chat_id
        +int restaurant_id FK
        +string current_step
        +string bot_state
        +jsonb session_data
        +timestamp created_at
        +timestamp updated_at
    }

    class FranceDeliveryDrivers {
        +bigint id PK
        +int restaurant_id FK
        +string first_name
        +string last_name
        +string phone_number
        +boolean is_available
        +boolean is_active
        +timestamp created_at
    }

    class FranceWorkflowTemplates {
        +int id PK
        +int restaurant_id FK
        +string template_name
        +text description
        +jsonb steps_config
        +boolean is_active
    }

    %% Relations simplifiÃ©es
    FranceRestaurants --> FranceMenuCategories
    FranceRestaurants --> FranceProducts
    FranceMenuCategories --> FranceProducts
    FranceProducts --> FranceProductSizes
    FranceProducts --> FranceProductOptions
    FranceRestaurants --> FranceOrders
    FranceRestaurants --> FranceUserSessions
    FranceRestaurants --> FranceDeliveryDrivers
    FranceRestaurants --> FranceWorkflowTemplates

    %% Styling
    classDef restaurantCore fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef orderSystem fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef deliverySystem fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef configSystem fill:#fff3e0,stroke:#ef6c00,stroke-width:2px

    class FranceRestaurants,FranceMenuCategories,FranceProducts,FranceProductSizes,FranceProductOptions restaurantCore
    class FranceOrders,FranceUserSessions orderSystem
    class FranceDeliveryDrivers deliverySystem
    class FranceWorkflowTemplates configSystem